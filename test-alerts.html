<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alert System Test</title>
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            padding: 40px; 
            background: #f8fafc;
        }
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        button {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 8px;
            font-size: 14px;
            transition: all 0.2s;
        }
        button:hover {
            background: #3730a3;
            transform: translateY(-1px);
        }
        .error-btn { background: #ef4444; }
        .error-btn:hover { background: #dc2626; }
        .success-btn { background: #10b981; }
        .success-btn:hover { background: #059669; }
        .info-btn { background: #06b6d4; }
        .info-btn:hover { background: #0891b2; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üö® Alert System Test</h1>
        <p>This page tests the SweetAlert2 integration used in the main index page.</p>
        
        <div>
            <h3>Test Different Alert Types:</h3>
            <button onclick="testError()">üî¥ Test Error Alert</button>
            <button class="success-btn" onclick="testSuccess()">üü¢ Test Success Alert</button>
            <button class="info-btn" onclick="testInfo()">üîµ Test Info Alert</button>
            <button onclick="testConfirm()">‚ùì Test Confirmation</button>
        </div>
        
        <div style="margin-top: 30px;">
            <h3>Test Error Banner:</h3>
            <button class="error-btn" onclick="testErrorBanner()">üì¢ Test Error Banner</button>
        </div>
        
        <div style="margin-top: 30px;">
            <h3>Console Tests:</h3>
            <p>Open browser console and run: <code>testAlerts()</code></p>
        </div>
    </div>

    <script>
        // Copy the functions from index.html
        function showErrorToUser(message) {
            if (typeof Swal !== 'undefined') {
                Swal.fire({
                    title: 'Error',
                    text: message,
                    icon: 'error',
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#EF4444',
                    showClass: {
                        popup: 'animate__animated animate__fadeInUp animate__faster'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__fadeOutDown animate__faster'
                    },
                    customClass: {
                        popup: 'rounded-xl shadow-lg',
                        confirmButton: 'rounded-lg px-6 py-2 text-white font-medium transition-all duration-200 hover:scale-105'
                    }
                });
            } else {
                alert(message);
            }
        }

        function showSuccessToUser(message, title = 'Success') {
            if (typeof Swal !== 'undefined') {
                Swal.fire({
                    title: title,
                    text: message,
                    icon: 'success',
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#10B981',
                    showClass: {
                        popup: 'animate__animated animate__fadeInUp animate__faster'
                    },
                    hideClass: {
                        popup: 'animate__animated animate__fadeOutDown animate__faster'
                    },
                    customClass: {
                        popup: 'rounded-xl shadow-lg',
                        confirmButton: 'rounded-lg px-6 py-2 text-white font-medium transition-all duration-200 hover:scale-105'
                    }
                });
            } else {
                alert(`${title}: ${message}`);
            }
        }

        function showErrorBanner(text){
            try {
                let banner = document.getElementById('error-banner');
                if (!banner) {
                    banner = document.createElement('div');
                    banner.id = 'error-banner';
                    banner.style.cssText = 'position:fixed;top:0;left:0;right:0;z-index:9999;background:#fee2e2;color:#991b1b;padding:12px 16px;font:14px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial;border-bottom:2px solid #fecaca;white-space:pre-wrap;box-shadow:0 2px 8px rgba(0,0,0,0.1);';
                    document.body.appendChild(banner);
                    
                    // Add close button
                    const closeBtn = document.createElement('button');
                    closeBtn.innerHTML = '√ó';
                    closeBtn.style.cssText = 'position:absolute;top:8px;right:12px;background:none;border:none;color:#991b1b;font-size:20px;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;';
                    closeBtn.onclick = () => banner.remove();
                    banner.appendChild(closeBtn);
                }
                banner.textContent = text;
                
                // Auto-hide after 10 seconds
                setTimeout(() => {
                    if (banner && banner.parentNode) {
                        banner.remove();
                    }
                }, 10000);
            } catch (_) {}
        }

        // Test functions
        function testError() {
            showErrorToUser('This is a test error message. The alert system is working correctly!');
        }

        function testSuccess() {
            showSuccessToUser('This is a test success message. The alert system is working correctly!');
        }

        function testInfo() {
            Swal.fire({
                title: 'Information',
                text: 'This is a test info message. The alert system is working correctly!',
                icon: 'info',
                confirmButtonText: 'OK',
                confirmButtonColor: '#06b6d4'
            });
        }

        function testConfirm() {
            Swal.fire({
                title: 'Are you sure?',
                text: 'This is a test confirmation dialog.',
                icon: 'question',
                showCancelButton: true,
                confirmButtonText: 'Yes',
                cancelButtonText: 'No',
                confirmButtonColor: '#10b981',
                cancelButtonColor: '#ef4444'
            }).then((result) => {
                if (result.isConfirmed) {
                    showSuccessToUser('You clicked Yes!');
                } else {
                    showErrorToUser('You clicked No or cancelled.');
                }
            });
        }

        function testErrorBanner() {
            showErrorBanner('This is a test error banner. It will auto-hide in 10 seconds or you can close it manually.');
        }

        // Test function for console
        window.testAlerts = function() {
            console.log('Testing alert system...');
            
            if (typeof Swal !== 'undefined') {
                console.log('‚úÖ SweetAlert2 is loaded');
                
                setTimeout(() => {
                    showErrorToUser('Console test: Error alert is working!');
                }, 500);
                
                setTimeout(() => {
                    showSuccessToUser('Console test: Success alert is working!');
                }, 2000);
                
                return 'Alert system test completed - check if SweetAlert2 popups appeared';
            } else {
                console.error('‚ùå SweetAlert2 is not loaded');
                alert('SweetAlert2 is not loaded - falling back to native alert');
                return 'SweetAlert2 not available - used native alert fallback';
            }
        };

        // Auto-test on load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Alert test page loaded. SweetAlert2 available:', typeof Swal !== 'undefined');
        });
    </script>
</body>
</html>